"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[71748],{15680:(a,s,e)=>{e.d(s,{xA:()=>i,yg:()=>u});var n=e(96540);function l(a,s,e){return s in a?Object.defineProperty(a,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[s]=e,a}function t(a,s){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),e.push.apply(e,n)}return e}function c(a){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?t(Object(e),!0).forEach((function(s){l(a,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):t(Object(e)).forEach((function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(e,s))}))}return a}function p(a,s){if(null==a)return{};var e,n,l=function(a,s){if(null==a)return{};var e,n,l={},t=Object.keys(a);for(n=0;n<t.length;n++)e=t[n],s.indexOf(e)>=0||(l[e]=a[e]);return l}(a,s);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);for(n=0;n<t.length;n++)e=t[n],s.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(a,e)&&(l[e]=a[e])}return l}var g=n.createContext({}),r=function(a){var s=n.useContext(g),e=s;return a&&(e="function"==typeof a?a(s):c(c({},s),a)),e},i=function(a){var s=r(a.components);return n.createElement(g.Provider,{value:s},a.children)},y="mdxType",m={inlineCode:"code",wrapper:function(a){var s=a.children;return n.createElement(n.Fragment,{},s)}},o=n.forwardRef((function(a,s){var e=a.components,l=a.mdxType,t=a.originalType,g=a.parentName,i=p(a,["components","mdxType","originalType","parentName"]),y=r(e),o=l,u=y["".concat(g,".").concat(o)]||y[o]||m[o]||t;return e?n.createElement(u,c(c({ref:s},i),{},{components:e})):n.createElement(u,c({ref:s},i))}));function u(a,s){var e=arguments,l=s&&s.mdxType;if("string"==typeof a||l){var t=e.length,c=new Array(t);c[0]=o;var p={};for(var g in s)hasOwnProperty.call(s,g)&&(p[g]=s[g]);p.originalType=a,p[y]="string"==typeof a?a:l,c[1]=p;for(var r=2;r<t;r++)c[r]=e[r];return n.createElement.apply(null,c)}return n.createElement.apply(null,e)}o.displayName="MDXCreateElement"},605:(a,s,e)=>{e.r(s),e.d(s,{assets:()=>g,contentTitle:()=>c,default:()=>m,frontMatter:()=>t,metadata:()=>p,toc:()=>r});var n=e(58168),l=(e(96540),e(15680));const t={description:"Data_OpenStream_API_Quickstart",title:"Data OpenStream API Quickstart",keywords:["Cloud and Chain"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",last_update:{date:"02/14/2023",author:"Matthew"}},c=void 0,p={unversionedId:"Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart",id:"Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart",title:"Data OpenStream API Quickstart",description:"Data_OpenStream_API_Quickstart",source:"@site/docs/Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart.md",sourceDirName:"Cloud_Chain/SenseCAP_API/Data_OpenStream_API",slug:"/Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart",permalink:"/Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Quickstart.md",tags:[],version:"current",lastUpdatedBy:"Matthew",lastUpdatedAt:1676332800,formattedLastUpdatedAt:"Feb 14, 2023",frontMatter:{description:"Data_OpenStream_API_Quickstart",title:"Data OpenStream API Quickstart",keywords:["Cloud and Chain"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",last_update:{date:"02/14/2023",author:"Matthew"}},sidebar:"ProductSidebar",previous:{title:"HTTP API Access Guide",permalink:"/Cloud_Chain/SenseCAP_API/HTTP_API/HTTP_API_Access_Guide"},next:{title:"Data OpenStream API Reference",permalink:"/Cloud_Chain/SenseCAP_API/Data_OpenStream_API/Data_OpenStream_API_Reference"}},g={},r=[],i={toc:r},y="wrapper";function m(a){let{components:s,...e}=a;return(0,l.yg)(y,(0,n.A)({},i,e,{components:s,mdxType:"MDXLayout"}),(0,l.yg)("div",{class:"post-content"},(0,l.yg)("div",{class:"summary"},(0,l.yg)("p",null,"This guide will walk you through how to subscribe your devices\u2019 messages as well as how to send a command to a specific device, using Eclipse Mosquitto\u2019s CLIs to subscribe or publish messages.")),(0,l.yg)("div",{id:"toc"}),(0,l.yg)("h2",{id:"setup",class:"clickable-header top-level-header"},"Setup"),(0,l.yg)("i",{class:"icon-arrow-up back-to-top"}),(0,l.yg)("ul",null,(0,l.yg)("li",null,"Install or\xa0",(0,l.yg)("a",{href:"https://mosquitto.org/download/"},"download"),"\xa0Mosquitto.")),(0,l.yg)("h2",{id:"credentials",class:"clickable-header top-level-header"},"Credentials"),(0,l.yg)("i",{class:"icon-arrow-up back-to-top"}),"Browse SenseCAP Portal, navigate to \u201cSecurity/Access API keys\u201d, click the \u201cCreate Access Key\u201d, and you can get the \u201cAccess API keys\u201d, set down it as <Password>, and also \u201cOrganization ID\u201d as <OrgID>.",(0,l.yg)("figure",null,(0,l.yg)("img",{class:"docimage",src:"https://sensecap-docs.seeed.cc/images/open_api/access_key_en.png",alt:""})),(0,l.yg)("figure",null,(0,l.yg)("img",{class:"docimage",src:"https://sensecap-docs.seeed.cc/images/open_api/access_key_en_2.png",alt:""})),(0,l.yg)("figure",null,(0,l.yg)("img",{class:"docimage",src:"https://sensecap-docs.seeed.cc/images/open_api/access_key_en_3.png",alt:""})),(0,l.yg)("h2",{id:"receive-devices-messages",class:"clickable-header top-level-header"},"Receive Devices\u2019 Messages"),(0,l.yg)("i",{class:"icon-arrow-up back-to-top"}),"Let\u2019s listen for all of your devices\u2019 messages.",(0,l.yg)("p",null,"1.Open a terminal window and execute the following command."),(0,l.yg)("ul",null,(0,l.yg)("li",null,"OrgID = Organization ID"),(0,l.yg)("li",null,"Password = Access API keys")),(0,l.yg)("div",{class:"language-ruby highlighter-rouge"},(0,l.yg)("div",{class:"highlight"},(0,l.yg)("pre",{class:"highlight"},(0,l.yg)("code",null,(0,l.yg)("span",{class:"n"},"mosquitto_sub")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"n"},"h")," ",(0,l.yg)("span",{class:"n"},"sensecap"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"n"},"openstream"),(0,l.yg)("span",{class:"p"},"."),(0,l.yg)("span",{class:"nf"},"seeed"),(0,l.yg)("span",{class:"p"},"."),(0,l.yg)("span",{class:"nf"},"cn")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"n"},"t")," ",(0,l.yg)("span",{class:"s1"},"'/device_sensor_data/<OrgID>/+/+/+/+'")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"n"},"u")," ",(0,l.yg)("span",{class:"s1"},"'org-<OrgID>'")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"no"},"P")," ",(0,l.yg)("span",{class:"s1"},"'<Password>'")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"no"},"I")," ",(0,l.yg)("span",{class:"s1"},"'org-<OrgID>-quickstart'")," ",(0,l.yg)("span",{class:"p"},"\\"),(0,l.yg)("span",{class:"o"},"-"),(0,l.yg)("span",{class:"n"},"v"))))),"Please replace the Organization ID and Access API Key you just obtained with the <OrgID> and <Password> above.",(0,l.yg)("p",null,"2.Power up devices, while devices keep sending messages, you should receive the data like:"),(0,l.yg)("div",{className:"language-ruby highlighter-rouge"},(0,l.yg)("div",{className:"highlight"},(0,l.yg)("pre",{className:"highlight"},(0,l.yg)("code",null,(0,l.yg)("span",{className:"sr"},"/device_sensor_data/"),(0,l.yg)("span",{className:"mi"},"1234"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12000000001"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4105")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151824139"),(0,l.yg)("span",{className:"p"}),"\n",(0,l.yg)("span",{className:"sr"},"/device_sensor_data/xxxx"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12XXXXXXXXX"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4097")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"23"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151900992"),(0,l.yg)("span",{className:"p"}),"\n",(0,l.yg)("span",{className:"sr"},"/device_sensor_data/xxxx"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12XXXXXXXXX"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4101")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"101629"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151901112"),(0,l.yg)("span",{className:"p"}),"\n",(0,l.yg)("span",{className:"sr"},"/device_sensor_data/xxxx"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12XXXXXXXXX"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4098")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"71"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151900992"),(0,l.yg)("span",{className:"p"}),"\n",(0,l.yg)("span",{className:"sr"},"/device_sensor_data/xxxx"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12XXXXXXXXX"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4099")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mf"},"69.12"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151902224"),(0,l.yg)("span",{className:"p"}),"\n",(0,l.yg)("span",{className:"sr"},"/device_sensor_data/xxxx"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"2"),(0,l.yg)("span",{className:"no"},"CF7F12XXXXXXXXX"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"1"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"n"},"vs"),(0,l.yg)("span",{className:"o"},"/"),(0,l.yg)("span",{className:"mi"},"4100")," ",(0,l.yg)("span",{className:"p"}),(0,l.yg)("span",{className:"s2"},'"value"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"437"),(0,l.yg)("span",{className:"p"},","),(0,l.yg)("span",{className:"s2"},'"timestamp"'),(0,l.yg)("span",{className:"p"},":"),(0,l.yg)("span",{className:"mi"},"1544151922137"),(0,l.yg)("span",{className:"p"}),"\n")))),(0,l.yg)("table",null,(0,l.yg)("thead",null,(0,l.yg)("tr",null,(0,l.yg)("th",null,"example"),(0,l.yg)("th",null,"field"),(0,l.yg)("th",null,"description"))),(0,l.yg)("tbody",null,(0,l.yg)("tr",null,(0,l.yg)("td",null,"1234"),(0,l.yg)("td",null,"OrgId"),(0,l.yg)("td",null,"Organization ID")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"2CF7F12000000001"),(0,l.yg)("td",null,"DeviceEUI"),(0,l.yg)("td",null,"Unique identification of device")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"1"),(0,l.yg)("td",null,"Channel"),(0,l.yg)("td",null,"A physical socket on the device for a sensor to be connected")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"vs"),(0,l.yg)("td",null,"Reserved"),(0,l.yg)("td",null,"The reserved field")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"4105"),(0,l.yg)("td",null,"MeasureID"),(0,l.yg)("td",null,"The type of measurement, 4105 is the Wind Speed")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"2"),(0,l.yg)("td",null,"value"),(0,l.yg)("td",null,"Collected measurements, the Wind Speed is 2m/s")),(0,l.yg)("tr",null,(0,l.yg)("td",null,"1544151824139"),(0,l.yg)("td",null,"timestamp"),(0,l.yg)("td",null,"The collection timestamp of the data")))),(0,l.yg)("h2",{id:"subscribe-a-specific-key",class:"clickable-header top-level-header"},"Subscribe a Specific Key"),(0,l.yg)("i",{class:"icon-arrow-up back-to-top"}),"Specifying a specific key enables you to subscribe to data for a particular device or channel.",(0,l.yg)("p",null,"Example:\nSubscribe to the temperature value collected by the Air Temperature and Humidity Sensor (DeviceEUI: 2CF7F12210400083;Channel: 1;).The temperature measurement ID is 4097.\nReplace ","<","OrgID",">"," as Organization ID, ","<","Password",">"," as Access API Key, execute the command:"),(0,l.yg)("div",{className:"language-ruby highlighter-rouge"},(0,l.yg)("div",{className:"highlight"},(0,l.yg)("pre",{className:"highlight"},(0,l.yg)("code",null,(0,l.yg)("span",{className:"n"},"mosquitto_sub")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"n"},"h")," ",(0,l.yg)("span",{className:"n"},"sensecap"),(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"n"},"openstream"),(0,l.yg)("span",{className:"p"},"."),(0,l.yg)("span",{className:"nf"},"seeed"),(0,l.yg)("span",{className:"p"},"."),(0,l.yg)("span",{className:"nf"},"cn")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"n"},"t")," ",(0,l.yg)("span",{className:"s1"},"'/device_sensor_data/<OrgID>/2CF7F12210400083/1/vs/4097'")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"n"},"u")," ",(0,l.yg)("span",{className:"s1"},"'org-<OrgID>'")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"no"},"P")," ",(0,l.yg)("span",{className:"s1"},"'<Password>'")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"no"},"I")," ",(0,l.yg)("span",{className:"s1"},"'org-<OrgID>-quickstart'")," ",(0,l.yg)("span",{className:"p"},"\\"),"\n","    ",(0,l.yg)("span",{className:"o"},"-"),(0,l.yg)("span",{className:"n"},"v"),"\n")))),(0,l.yg)("p",null,"Received the data:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-cpp"},'/device_sensor_data/521853156991/2CF7F12210400083/1/vs/4097 {"value":28,"timestamp":1561373812474}\n')),(0,l.yg)("p",null,"Congratulations! Now you know how to monitor and receive messages via MQTT. Go build something awesome!")))}m.isMDXComponent=!0}}]);