"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[40743],{15680:(e,t,a)=>{a.d(t,{xA:()=>p,yg:()=>h});var o=a(96540);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,i=function(e,t){if(null==e)return{};var a,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=o.createContext({}),d=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},c=o.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(a),c=i,h=u["".concat(l,".").concat(c)]||u[c]||g[c]||n;return a?o.createElement(h,r(r({ref:t},p),{},{components:a})):o.createElement(h,r({ref:t},p))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,r=new Array(n);r[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:i,r[1]=s;for(var d=2;d<n;d++)r[d]=a[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}c.displayName="MDXCreateElement"},90424:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>g,frontMatter:()=>n,metadata:()=>s,toc:()=>d});var o=a(58168),i=(a(96540),a(15680));const n={description:"EdgeBox RPi 200 balena OS Setup",title:"EdgeBox RPi 200 balena OS Setup",keywords:["Edge","EdgeBox-RPi-200"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/Edgebox-rpi-200-balena-OS-setup",last_update:{date:"07/20/2023",author:"Marc Pous & Peter Pan"}},r=void 0,s={unversionedId:"Edge/Raspberry_Pi_Devices/Edge_Box_RPi_200/Edgebox-rpi-200-balena-OS-setup",id:"Edge/Raspberry_Pi_Devices/Edge_Box_RPi_200/Edgebox-rpi-200-balena-OS-setup",title:"EdgeBox RPi 200 balena OS Setup",description:"EdgeBox RPi 200 balena OS Setup",source:"@site/docs/Edge/Raspberry_Pi_Devices/Edge_Box_RPi_200/Edgebox-rpi-200-balena-OS-setup.md",sourceDirName:"Edge/Raspberry_Pi_Devices/Edge_Box_RPi_200",slug:"/Edgebox-rpi-200-balena-OS-setup",permalink:"/Edgebox-rpi-200-balena-OS-setup",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/Edge_Box_RPi_200/Edgebox-rpi-200-balena-OS-setup.md",tags:[],version:"current",lastUpdatedBy:"Marc Pous & Peter Pan",lastUpdatedAt:1689811200,formattedLastUpdatedAt:"Jul 20, 2023",frontMatter:{description:"EdgeBox RPi 200 balena OS Setup",title:"EdgeBox RPi 200 balena OS Setup",keywords:["Edge","EdgeBox-RPi-200"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/Edgebox-rpi-200-balena-OS-setup",last_update:{date:"07/20/2023",author:"Marc Pous & Peter Pan"}},sidebar:"ProductSidebar",previous:{title:"EdgeBox RPi 200 boot From External Media",permalink:"/EdgeBox-RPi-200-boot-from-external-media"},next:{title:"Getting started with NEQTO Engine for Linux on EdgeBox-RPI-200",permalink:"/NEQTO_Engine_for_Linux_EdgeBox-RPI-200"}},l={},d=[{value:"What is balena?",id:"what-is-balena",level:2},{value:"Edgebox-RPI-200",id:"edgebox-rpi-200",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Hardware",id:"hardware",level:3},{value:"Software",id:"software",level:3},{value:"Flash balenaOS on the EdgeBox RPI200",id:"flash-balenaos-on-the-edgebox-rpi200",level:2},{value:"Configure the Phoenix Connector GPIO",id:"configure-the-phoenix-connector-gpio",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],p={toc:d},u="wrapper";function g(e){let{components:t,...a}=e;return(0,i.yg)(u,(0,o.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"what-is-balena"},"What is balena?"),(0,i.yg)("p",null,"balena is an Internet of Things (IoT) platform designed to help developers build, deploy, and manage IoT  applications across a fleet of devices. It supports a wide range of device architectures and includes features for containerized application deployment, making it possible to easily update your IoT software and HostOS, fix bugs and introduce new features on your IoT applications. balena provides a unified way to push code updates, manage device configurations and ensure devices run reliably and securely in the field, regardless of their location or network conditions."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/balena.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("p",null,"balenaOS is the key component of the balena ecosystem. balenaOS is an open-source Linux-based operating system, made by balena, which is purpose-built for running containerized applications on embedded devices through balenaEngine, a lightweight, container engine optimized for IoT devices. It's optimized for reliability, robustness, and security, crucial factors for IoT and edge computing environments. Built on the Yocto project, balenaOS supports more than 100 different hardware platforms and includes built-in features like host OS updates and a supervisor API for controlling applications. By leveraging Docker containers, balenaOS ensures application portability and simplifies the development process."),(0,i.yg)("p",null,"balenaCloud provides a central dashboard to manage your fleet of IoT devices. It simplifies device management with functionality for remote updates, device and applications monitoring, troubleshooting and secure device access. With balenaCloud, you can easily monitor how to deploy applications to one device or thousands of devices with a single git push, balena CLI push or via built-in continuous integration and continuous deployment of your choice. balena is a scalable and robust IoT solution for anyone looking to efficiently manage a fleet of IoT devices, the software and host OS running on them."),(0,i.yg)("h2",{id:"edgebox-rpi-200"},"Edgebox-RPI-200"),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{width:500,src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/-/1-102991599_edgebox-rpi-200-first.jpg\n"})),(0,i.yg)("p",null,"EdgeBox-RPI-200 series are all-in-one Raspberry Pi-based industrial edge computing controllers, combining multiple industrial purposes. Designed as high-scalability and rugged industrial hardware, mounted with rich IO resources and supported by the great Raspberry Pi industrial software ecosystem, it is an ideal choice for smart automation and Industrial Internet of Things(IIoT) solutions."),(0,i.yg)("div",{class:"get_one_now_container",style:{textAlign:"center"}},(0,i.yg)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/EdgeBox-RPi-200-CM4104016-p-5486.html"},(0,i.yg)("strong",null,(0,i.yg)("span",null,(0,i.yg)("font",{color:"FFFFFF",size:"4"}," Get One Now \ud83d\uddb1\ufe0f"))))),(0,i.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.yg)("p",null,"In this document you will learn how to flash balenaOS to the Seeed Studio EdgeBox-RPI-200 to reduce the friction to update the software and host OS running on your fleet of EdgeBox-RPI-200s. "),(0,i.yg)("h3",{id:"hardware"},"Hardware"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://www.seeedstudio.com/EdgeBox-RPi-200-CM4104016-p-5486.html"},"EdgeBox-RPI-200")," "),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://www.seeedstudio.com/Rapberry-Pi-CM4-Dual-GbE-Carrier-Board-p-4874.html"},"Dual Gigabit Ethernet NICs Carrier Board")," used for flash OS onto the CM4 in the EdgeBox-RPI-200."),(0,i.yg)("li",{parentName:"ul"},"Din rail power supply 24V (DC) in this case ",(0,i.yg)("inlineCode",{parentName:"li"},"Mean Well HDR-100-24 AC-DC")," is used."),(0,i.yg)("li",{parentName:"ul"},"Cables to plug to the power supply with the EdgeBox-RPI-200.")),(0,i.yg)("h3",{id:"software"},"Software"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},"A ",(0,i.yg)("a",{parentName:"li",href:"https://balena.io"},"balenaCloud")," account (sign up here) and get the first 10 devices free."),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("a",{parentName:"li",href:"https://etcher.balena.io/"},"balenaEtcher")," to flash the CM4 memory.")),(0,i.yg)("h2",{id:"flash-balenaos-on-the-edgebox-rpi200"},"Flash balenaOS on the EdgeBox RPI200"),(0,i.yg)("p",null,"To flash balenaOS on the EdgeBox-RPI-200 you will need to disassemble the device and get the Raspberry Pi Compute Module 4. "),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"STEP 1:")," Place the CM4 from the EdgeBox-RPI-200 into the ",(0,i.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Rapberry-Pi-CM4-Dual-GbE-Carrier-Board-p-4874.html"},"Dual Gigabit Ethernet NICs Carrier Board"),", Please follow ",(0,i.yg)("a",{parentName:"p",href:"/Raspberry_pi_CM4_update_eeprom/#put-cm4-emmc-storage-into-usb-mass-storage-mode"},"the wiki page")," on how to Put CM4 eMMC Storage into USB mass storage Mode with the ",(0,i.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Rapberry-Pi-CM4-Dual-GbE-Carrier-Board-p-4874.html"},"Dual Gigabit Ethernet NICs Carrier Board"),"."),(0,i.yg)("p",{style:{textAlign:"center"}},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/102110497/latest-board/boot-pins.png",alt:"pir",width:600,height:"auto"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"STEP 2:")," go to balenaCloud, create a free account and create a fleet for ",(0,i.yg)("inlineCode",{parentName:"p"},"Raspberry Pi 4")," or ",(0,i.yg)("inlineCode",{parentName:"p"},"CM4")," device types. "),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/balena_cloud.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"STEP 3:")," Click ",(0,i.yg)("inlineCode",{parentName:"p"},"Add Device")," and download the balenaOS image with your network credentials. "),(0,i.yg)("admonition",{type:"note"},(0,i.yg)("p",{parentName:"admonition"},"Remember that the EdgeBox RPI200 without a WiFi antenna is not going to be able to connect to your WiFi network.")),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/add_new_device.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"STEP 4"),": Using ",(0,i.yg)("a",{parentName:"p",href:"https://etcher.balena.io/"},"balenaEtcher"),", flash the CM4 with the balenaOS image downloaded from balenaCloud."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"STEP 5"),": Once successfully done, place the CM4 back on the EdgeBox-RPI-200 and power it up with the DIN rail power adapter. The device might appear on the balenaCloud dashboard."),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/edgebox_appear_on_cloud.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/edgebox_appear_on_cloud_1.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("h2",{id:"configure-the-phoenix-connector-gpio"},"Configure the Phoenix Connector GPIO"),(0,i.yg)("p",null,"To access the EdgeBox-RPI-200 Phoenix Connector GPIO it is necessary to update the Device Tree parameters of the default balenaOS image. "),(0,i.yg)("p",null,"To access the Phoenix Connector GPIO through the ",(0,i.yg)("inlineCode",{parentName:"p"},"/dev/ttyACM0")," or ",(0,i.yg)("inlineCode",{parentName:"p"},"/dev/ttyACM1")," go to ",(0,i.yg)("inlineCode",{parentName:"p"},"Device Configuration")," and change the DToverlays"),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/config_gpio_on_balena.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("p",null,"The device tree is defined on Define DT overlays as ",(0,i.yg)("inlineCode",{parentName:"p"},'"dwc2","dr_mode=host","w1-gpio"'),'. On Define DT parameters for the default overlay. I added the parameter "enable_serial=1".'),(0,i.yg)("div",{align:"center"},(0,i.yg)("img",{src:"https://files.seeedstudio.com/wiki/Edge_Box/balena/edit_dts.png",alt:"pir",width:"700",height:"auto"})),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}g.isMDXComponent=!0}}]);