"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[67499],{15680:(e,t,s)=>{s.d(t,{xA:()=>c,yg:()=>m});var i=s(96540);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function r(e,t){if(null==e)return{};var s,i,n=function(e,t){if(null==e)return{};var s,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)s=a[i],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var l=i.createContext({}),g=function(e){var t=i.useContext(l),s=t;return e&&(s="function"==typeof e?e(t):o(o({},t),e)),s},c=function(e){var t=g(e.components);return i.createElement(l.Provider,{value:t},e.children)},h="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var s=e.components,n=e.mdxType,a=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),h=g(s),p=n,m=h["".concat(l,".").concat(p)]||h[p]||d[p]||a;return s?i.createElement(m,o(o({ref:t},c),{},{components:s})):i.createElement(m,o({ref:t},c))}));function m(e,t){var s=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=s.length,o=new Array(a);o[0]=p;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[h]="string"==typeof e?e:n,o[1]=r;for(var g=2;g<a;g++)o[g]=s[g];return i.createElement.apply(null,o)}return i.createElement.apply(null,s)}p.displayName="MDXCreateElement"},82945:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>r,toc:()=>g});var i=s(58168),n=(s(96540),s(15680));const a={description:"This is SenseCraft-HomeAssistant User Manual",title:"SenseCraft-HomeAssistant User Manual",keywords:["home assistant"],slug:"/sensecraft_homeassistant_userguide",last_update:{date:"04/12/2024",author:"WenHao"}},o="SenseCraft-HomeAssistant User Manual",r={unversionedId:"Topics/Home_Assistant/Home_Assistant_Tutorials/sensecraft_homeassistant_userguide",id:"Topics/Home_Assistant/Home_Assistant_Tutorials/sensecraft_homeassistant_userguide",title:"SenseCraft-HomeAssistant User Manual",description:"This is SenseCraft-HomeAssistant User Manual",source:"@site/docs/Topics/Home_Assistant/Home_Assistant_Tutorials/sensecraft_homeassistant_userguide.md",sourceDirName:"Topics/Home_Assistant/Home_Assistant_Tutorials",slug:"/sensecraft_homeassistant_userguide",permalink:"/sensecraft_homeassistant_userguide",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Topics/Home_Assistant/Home_Assistant_Tutorials/sensecraft_homeassistant_userguide.md",tags:[],version:"current",lastUpdatedBy:"WenHao",lastUpdatedAt:171288e4,formattedLastUpdatedAt:"Apr 12, 2024",frontMatter:{description:"This is SenseCraft-HomeAssistant User Manual",title:"SenseCraft-HomeAssistant User Manual",keywords:["home assistant"],slug:"/sensecraft_homeassistant_userguide",last_update:{date:"04/12/2024",author:"WenHao"}},sidebar:"ProductSidebar",previous:{title:"Extend Home Assistant with LoRaWAN device (XIAO-ESP32-S3)",permalink:"/ha_xiao_esp32"},next:{title:"TinyML",permalink:"/tinyml_topic"}},l={},g=[{value:"Introduction",id:"introduction",level:2},{value:"1.1 Installation Steps for HACS",id:"11-installation-steps-for-hacs",level:3},{value:"1.2 Installing the SenseCraft Plugin",id:"12-installing-the-sensecraft-plugin",level:3},{value:"Grove Vision AI(V2) with SenseCraft-HomeAssistant",id:"grove-vision-aiv2-with-sensecraft-homeassistant",level:2},{value:"2.1 Check if the Device Contains Firmware and Models",id:"21-check-if-the-device-contains-firmware-and-models",level:3},{value:"2.2 Burning Firmware and Models",id:"22-burning-firmware-and-models",level:3},{value:"2.3 Setting Up MQTT Service",id:"23-setting-up-mqtt-service",level:3},{value:"Opention 1: Setting Up MQTT Service in Home Assistant",id:"opention-1-setting-up-mqtt-service-in-home-assistant",level:4},{value:"Option 2: Installing MQTT Service on Your Own Computer",id:"option-2-installing-mqtt-service-on-your-own-computer",level:4},{value:"Verifying MQTT Service Success",id:"verifying-mqtt-service-success",level:3},{value:"2.4 Configuring WIFI and MQTT",id:"24-configuring-wifi-and-mqtt",level:3},{value:"Why configure these two?",id:"why-configure-these-two",level:4},{value:"2.5 Integrate into HA via Discovery",id:"25-integrate-into-ha-via-discovery",level:3},{value:"2.6 Manually Integrate into HA",id:"26-manually-integrate-into-ha",level:3},{value:"Integrate Sensor Nodes into HA",id:"integrate-sensor-nodes-into-ha",level:2},{value:"3.1 Add sensor nodes through the sensecap mate app",id:"31-add-sensor-nodes-through-the-sensecap-mate-app",level:3},{value:"3.2 Adding sensor nodes through the website",id:"32-adding-sensor-nodes-through-the-website",level:3},{value:"3.3 Adding to HA",id:"33-adding-to-ha",level:3},{value:"What&#39;s More",id:"whats-more",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],c={toc:g},h="wrapper";function d(e){let{components:t,...s}=e;return(0,n.yg)(h,(0,i.A)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"sensecraft-homeassistant-user-manual"},"SenseCraft-HomeAssistant User Manual"),(0,n.yg)("h2",{id:"introduction"},"Introduction"),(0,n.yg)("p",null,"SenseCraft-HomeAssistant is a plugin for HomeAssistant. By using this plugin, users can log in with the SenseCraft Data Platform (originally SenseCAP Cloud Platform) account to access cloud devices and sensor data on the HomeAssistant platform, generating custom device reporting dashboards."),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"The SenseCraft-HomeAssistant plugin is currently only available for installation via HACS, which is a third-party app store on the HomeAssistant system. When the official integrations provided by HomeAssistant are not sufficient, HACS allows for the easy addition and management of third-party integrations.")),(0,n.yg)("h3",{id:"11-installation-steps-for-hacs"},"1.1 Installation Steps for HACS"),(0,n.yg)("p",null,"Since downloading the HACS plugin requires terminal commands, you must first install the Terminal app."),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Enable Advanced Mode and Search for Terminal App"))),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Open the Advanced Mode and navigate to the Add-ons and search for the Terminal application.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage1.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage2.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"If you cannot find it, first check your network connection, then try restarting HomeAssistant.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage3.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage4.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Install, Launch, and Open the Terminal Interface"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage5.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Enter the following commands in the terminal to download the HACS installation package")," (details at ",(0,n.yg)("a",{parentName:"li",href:"https://hacs.xyz/docs/setup/download"},"https://hacs.xyz/docs/setup/download"),"):")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage6.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Enter the config directory:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"cd config\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Download and install HACS:")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"wget -q -O - https://install.hacs.xyz | bash -\n")),(0,n.yg)("ol",{start:4},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Restart Home Assistant"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage7.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:5},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Search for and Install the HACS Plugin"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage8.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage9.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:6},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"A license agreement will pop up; check all agreements and submit"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage10.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:7},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Click the link to go to the GitHub page and log in, then enter the 8-letter code at the bottom into the GitHub interface"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage11.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage12.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:8},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Authorize"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage13.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:9},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"At this point, the HACS store is installed"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage14.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"12-installing-the-sensecraft-plugin"},"1.2 Installing the SenseCraft Plugin"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},'After completing the above steps, a new "HACS" item will appear in the left menu bar.')),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage15.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},'Enter the SenseCraft repository URL and category, then click the "Add" button:')),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("ul",{parentName:"admonition"},(0,n.yg)("li",{parentName:"ul"},"Repository: ",(0,n.yg)("inlineCode",{parentName:"li"},"https://github.com/Seeed-Solution/SenseCraft-HomeAssistant.git")),(0,n.yg)("li",{parentName:"ul"},"Category: ",(0,n.yg)("inlineCode",{parentName:"li"},"Integration")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage16.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},"Enter 'sensecraft' in the search box and find the SenseCraft plugin.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage17.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:4},(0,n.yg)("li",{parentName:"ol"},'Click on the SenseCraft plugin, go to the plugin introduction page and click the "Download" button.')),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage18.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"This completes the addition of SenseCraft to your current Home Assistant setup."),(0,n.yg)("h2",{id:"grove-vision-aiv2-with-sensecraft-homeassistant"},"Grove Vision AI(V2) with SenseCraft-HomeAssistant"),(0,n.yg)("p",null,"If you've just acquired the device without firmware or a model, you'll need to burn the firmware and model first."),(0,n.yg)("p",null,"If the device already has firmware and model, you can skip the ",(0,n.yg)("strong",{parentName:"p"},"step 2"),". Here\u2019s how to check if your device contains firmware and models, as firmware and models are bundled together."),(0,n.yg)("h3",{id:"21-check-if-the-device-contains-firmware-and-models"},"2.1 Check if the Device Contains Firmware and Models"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},"Open the website ",(0,n.yg)("a",{parentName:"li",href:"https://seeed-studio.github.io/SenseCraft-Web-Toolkit/#/setup/process"},"https://seeed-studio.github.io/SenseCraft-Web-Toolkit/#/setup/process")," and connect the device to your computer.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage19.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Connect the Grove Vision AI V2 to the computer")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Switch to Grove Vision AI option."))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage20.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:4},(0,n.yg)("li",{parentName:"ol"},"If it's the first time, you will be prompted for permissions, select the device that appears and click connect.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage21.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:5},(0,n.yg)("li",{parentName:"ol"},"If the information and images shown resemble the ones in the screenshot, it is functioning correctly.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage22.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"22-burning-firmware-and-models"},"2.2 Burning Firmware and Models"),(0,n.yg)("p",null,"If no model information is detected and there is no live preview, it indicates that the firmware and model need to be re-burned."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage23.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Choose one of the pre-set models (e.g., Gender Detection) and click 'Send'. Wait for the firmware to complete burning."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage24.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"23-setting-up-mqtt-service"},"2.3 Setting Up MQTT Service"),(0,n.yg)("h4",{id:"opention-1-setting-up-mqtt-service-in-home-assistant"},"Opention 1: Setting Up MQTT Service in Home Assistant"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("strong",{parentName:"li"},"Open \u201cConfiguration > Add-ons > Add-on Store\u201d"),' and find the "Add-on Store" at the bottom right.')),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage25.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage26.png",alt:"pir",width:300,height:"auto"})),(0,n.yg)("ol",{start:2},(0,n.yg)("li",{parentName:"ol"},"Search for \u201cmqtt\u201d in the store.")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage27.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},"Click to install and configure the MQTT service with username and password:")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage28.png",alt:"pir",width:400,height:"auto"})),(0,n.yg)("ol",{start:4},(0,n.yg)("li",{parentName:"ol"},"Navigate to \u201cOptions > Logins\u201d and replace the user or passwd with your desired username and password. Save the configuration.")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("ul",{parentName:"admonition"},(0,n.yg)("li",{parentName:"ul"},"username: user"),(0,n.yg)("li",{parentName:"ul"},"password: passwd"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage29.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"If there are no errors, it means success, if there are errors, you can try to uninstall and reinstall, and then configure again.")),(0,n.yg)("h4",{id:"option-2-installing-mqtt-service-on-your-own-computer"},"Option 2: Installing MQTT Service on Your Own Computer"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Download EMQX")," for your system from ",(0,n.yg)("a",{parentName:"p",href:"https://www.emqx.com/en/downloads/broker/5.4.0"},"https://www.emqx.com/en/downloads/broker/5.4.0")," and follow the given instructions for your OS.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Take MacOS as an example:"))),(0,n.yg)("p",null,"Using:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"wget https://www.emqx.com/en/downloads/broker/5.4.0/emqx-5.4.0-macos13-amd64.zip\n")),(0,n.yg)("p",null,"to download the package. And installing EMQX:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"mkdir -p emqx && unzip emqx-5.4.0-macos13-amd64.zip -d emqx\n")),(0,n.yg)("p",null,"Finally running EMQX:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre"},"./emqx/bin/emqx start\n")),(0,n.yg)("ol",{start:3},(0,n.yg)("li",{parentName:"ol"},"Test if it is functional:")),(0,n.yg)("p",null,"Go to the ",(0,n.yg)("a",{parentName:"p",href:"https://mqttx.app/downloads"},"MQTT download")," to download the terminal."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage30.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"verifying-mqtt-service-success"},"Verifying MQTT Service Success"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Download the MQTTX client from the ",(0,n.yg)("a",{parentName:"li",href:"https://mqttx.app/downloads"},"MQTTX Download page")," to ensure your MQTT service can be accessed from your PC (either deployed on a public network server or within the same network segment as your PC).")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage31.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Connecting successfully indicates no issues.")),(0,n.yg)("h3",{id:"24-configuring-wifi-and-mqtt"},"2.4 Configuring WIFI and MQTT"),(0,n.yg)("h4",{id:"why-configure-these-two"},"Why configure these two?"),(0,n.yg)("p",null,"Because the operation of Grove Vision AI in Home Assistant is done through MQTT, and MQTT itself requires a network connection, which is why it is necessary to configure WIFI. Note that you cannot select 5G WIFI. Go to the configuration page:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage32.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Enter the corresponding information and click save. However, saving here just saves the information, it is not known whether it has actually been configured okay. You need to switch back to the Process page:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage33.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"When the IP Address shows an IP address, it means there are no problems with the WIFI. The Service status must be as shown in the picture to indicate normal operation. Note, if the WIFI is not normal, then MQTT will definitely not be normal. "),(0,n.yg)("p",null,"When switching over, it might initially show as disconnected and you may need to wait approximately 10s, but generally no more than 20s. "),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"You do not need to refresh to see the status; the status will automatically update to show the latest.")),(0,n.yg)("h3",{id:"25-integrate-into-ha-via-discovery"},"2.5 Integrate into HA via Discovery"),(0,n.yg)("p",null,"To have your device appear in the discovered section, you need to ensure the device and HA are on the same network segment, otherwise, it will not appear. If you are unsure about the network segment, you can connect the network of HA and the device to the same WIFI or say, the same router via ethernet."),(0,n.yg)("p",null,"If you have just completed the above operation, it is best to power off the device and plug it in again. Enter the configuration page:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage34a.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Then you see the following page:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage34.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Here, we can see the first device discovered. You can check the corresponding id to see if it is your device:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage35.png",alt:"pir",width:400,height:"auto"})),(0,n.yg)("p",null,"The circled part is the device ID, corresponding to the device ID on the website:\n",(0,n.yg)("a",{parentName:"p",href:"https://seeed-studio.github.io/SenseCraft-Web-Toolkit/#/setup/process"},"https://seeed-studio.github.io/SenseCraft-Web-Toolkit/#/setup/process")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage36.png",alt:"pir",width:400,height:"auto"})),(0,n.yg)("p",null,"If it is indeed your device, then click configure. Here, if your MQTT service does not have a username and password, the following dialog box will be displayed, otherwise, it will prompt you to enter a username and password. Then click submit."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage37.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"If your MQTT service has a username and password, then:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage38.png",alt:"pir",width:600,height:"auto"})),(0,n.yg)("p",null,"Then it's about choosing the region, that is, where your device is located, such as the living room, kitchen, etc."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage39.png",alt:"pir",width:600,height:"auto"})),(0,n.yg)("p",null,"I chose living room here, then click done, and thus the device is added to HA. At this point, you can click overview to see the effect of the completed configuration."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage40.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"26-manually-integrate-into-ha"},"2.6 Manually Integrate into HA"),(0,n.yg)("p",null,"If you can use the discovered devices, please configure from the discovered section as it is simpler than manual configuration. Select configuration, then devices and services."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage41.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage42.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,'Then select <Another instance of the device "SenseCraft"> as shown:'),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage43.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Then select ",(0,n.yg)("inlineCode",{parentName:"p"},"<Add device using host/id (LAN integration)>"),"."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage44.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Then click submit, select ",(0,n.yg)("inlineCode",{parentName:"p"},"grove_vision_ai_we2")," from the dropdown, and click submit."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage45.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Then enter the device ID, which is the device ID corresponding to the website, not something arbitrary."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage46.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Then click submit, next is configuring the MQTT service."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage47.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"The details filled here should be consistent with those configured on the website; previously, there was no username and password, so no need to fill those here. Then click submit, if successful, you will be asked to choose a location for the device."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage48.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Choose the location based on actual circumstances, then click done. This way you can see the effect in the overview, the rest is the same as the \u201cdiscovered\u201d method."),(0,n.yg)("h2",{id:"integrate-sensor-nodes-into-ha"},"Integrate Sensor Nodes into HA"),(0,n.yg)("p",null,"Our company has many sensors, such as light, carbon dioxide, etc., which can also be easily integrated into HA. To integrate sensor nodes, it is necessary to have an account on the ",(0,n.yg)("a",{parentName:"p",href:"https://sensecap.seeed.cc/portal/"},"SENSECAP website"),", so you first need to register an account there, depending on whether you are registering on the international or domestic site, and add your sensor nodes to your account. "),(0,n.yg)("p",null,"Below we will first discuss how to add devices through the app:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("a",{parentName:"li",href:"https://sensecap-mate-download.seeed.cn/"},"SenseCAP Mate App"))),(0,n.yg)("h3",{id:"31-add-sensor-nodes-through-the-sensecap-mate-app"},"3.1 Add sensor nodes through the sensecap mate app"),(0,n.yg)("p",null,"Please log in to the homepage of the app first. Follow the steps below to add."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage49.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"32-adding-sensor-nodes-through-the-website"},"3.2 Adding sensor nodes through the website"),(0,n.yg)("p",null,"Go to the ",(0,n.yg)("a",{parentName:"p",href:"https://sensecap.seeed.cc/portal/"},"SENSECAP website"),", enter the EUI, Key, etc., of your sensor device, and then click confirm."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage50.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Then you can see the devices you have added in the sensor node list."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage51.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("h3",{id:"33-adding-to-ha"},"3.3 Adding to HA"),(0,n.yg)("p",null,"Go to \u201cConfiguration >Add Integration\u201d."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage52.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,'In the dialog that appears, search for "sensecraft".'),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage53.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Then click on the filter result, enter and select ",(0,n.yg)("inlineCode",{parentName:"p"},'<another instance of device "SenseCraft">'),', then select "Add devices using SenseCraft Account".'),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage54.png",alt:"pir",width:800,height:"auto"})),(0,n.yg)("p",null,"Click Submit, then enter the registered account and password, and select an environment, that is, you registered international station (global) or domestic station (china)."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage55.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("p",null,"Once added, you can configure the sensor settings according to your needs."),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/sensecraft/sensecraft_homeassistant/SenseCraft-HomeAssistantimage56.png",alt:"pir",width:500,height:"auto"})),(0,n.yg)("h2",{id:"whats-more"},"What's More"),(0,n.yg)("p",null,"Integrating Home Assistant to NVIDIA Jetson will be coming soon!"),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}d.isMDXComponent=!0}}]);