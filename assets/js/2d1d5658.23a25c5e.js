"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[592],{15680:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>y});var r=t(96540);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(t),c=i,y=d["".concat(l,".").concat(c)]||d[c]||m[c]||a;return t?r.createElement(y,o(o({ref:n},u),{},{components:t})):r.createElement(y,o({ref:n},u))}));function y(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:i,o[1]=s;for(var p=2;p<a;p++)o[p]=t[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},93029:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=t(58168),i=(t(96540),t(15680));const a={description:"Reading Raspberry Pi's Info using Wio Terminal",title:"Reading Raspberry Pi's Info using Wio Terminal",keywords:["Wio_terminal USB_Client"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/Wio-Terminal-Reading-Raspberry-Pi",last_update:{date:"1/31/2023",author:"jianjing Huang"}},o="Reading Raspberry Pi's System Status using Wio Terminal",s={unversionedId:"Sensor/Wio_Terminal/Tutorial/Wio_Terminal_USB_Client/Wio-Terminal-Reading-Raspberry-Pi",id:"Sensor/Wio_Terminal/Tutorial/Wio_Terminal_USB_Client/Wio-Terminal-Reading-Raspberry-Pi",title:"Reading Raspberry Pi's Info using Wio Terminal",description:"Reading Raspberry Pi's Info using Wio Terminal",source:"@site/docs/Sensor/Wio_Terminal/Tutorial/Wio_Terminal_USB_Client/Wio-Terminal-Reading-Raspberry-Pi.md",sourceDirName:"Sensor/Wio_Terminal/Tutorial/Wio_Terminal_USB_Client",slug:"/Wio-Terminal-Reading-Raspberry-Pi",permalink:"/Wio-Terminal-Reading-Raspberry-Pi",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/Wio_Terminal/Tutorial/Wio_Terminal_USB_Client/Wio-Terminal-Reading-Raspberry-Pi.md",tags:[],version:"current",lastUpdatedBy:"jianjing Huang",lastUpdatedAt:1675123200,formattedLastUpdatedAt:"Jan 31, 2023",frontMatter:{description:"Reading Raspberry Pi's Info using Wio Terminal",title:"Reading Raspberry Pi's Info using Wio Terminal",keywords:["Wio_terminal USB_Client"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/Wio-Terminal-Reading-Raspberry-Pi",last_update:{date:"1/31/2023",author:"jianjing Huang"}},sidebar:"ProductSidebar",previous:{title:"Build a DAPLink Device using Wio Terminal",permalink:"/Wio-Terminal-DAPLink"},next:{title:"Wio Terminal Displaying Gyro",permalink:"/Wio-Terminal-Displaying-Gyro"}},l={},p=[{value:"Part List",id:"part-list",level:2},{value:"Features",id:"features",level:2},{value:"Raspberry Pi Host Program",id:"raspberry-pi-host-program",level:2},{value:"Python Code on Raspberry Pi",id:"python-code-on-raspberry-pi",level:3},{value:"Arduino Code",id:"arduino-code",level:2},{value:"Arduino libraries needed",id:"arduino-libraries-needed",level:3},{value:"Complete Code",id:"complete-code",level:3},{value:"Instructions",id:"instructions",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],u={toc:p},d="wrapper";function m(e){let{components:n,...t}=e;return(0,i.yg)(d,(0,r.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"reading-raspberry-pis-system-status-using-wio-terminal"},"Reading Raspberry Pi's System Status using Wio Terminal"),(0,i.yg)("p",null,(0,i.yg)("img",{parentName:"p",src:"https://files.seeedstudio.com/wiki/Wio-Terminal/img/WT-rasp.gif",alt:null})),(0,i.yg)("p",null,"This wiki introduces how to read the system status of Raspberry Pi via USB serial communication using Wio Terminal. In this demo, the Raspberry Pi will be the host computer and sends its system information to the serial port via USB. Wio Terminal will be the slave and receives the incoming data and display on its LCD Screen."),(0,i.yg)("h2",{id:"part-list"},"Part List"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Boards-c-17.html"},"Raspberry Pi")," (3B+ used here)")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},(0,i.yg)("a",{parentName:"p",href:"https://www.seeedstudio.com/Wio-Terminal-p-4509.html"},"Wio Terminal"))),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"USB Type-C cable"))),(0,i.yg)("h2",{id:"features"},"Features"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Reading Raspberry Pi's System status")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Display on Wio Terminal's Screen"))),(0,i.yg)("h2",{id:"raspberry-pi-host-program"},"Raspberry Pi Host Program"),(0,i.yg)("p",null,"Run the following Python code on Raspberry to send the system information to Wio Terminal via USB Serial."),(0,i.yg)("p",null,(0,i.yg)("strong",{parentName:"p"},"Note:")," Please make sure that the Serial port is correct in the Python code, change it according to your device."),(0,i.yg)("h3",{id:"python-code-on-raspberry-pi"},"Python Code on Raspberry Pi"),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-py"},"import os\nimport time \nimport serial\n\n# Settings for reading from Arduino Serial\nserialPort= \"/dev/ttyACM0\" #Change it to your Serial Port, Check in Arudino IDE\nbaudRate = 115200\nser = serial.Serial(serialPort, baudRate, timeout=0.5)\ntime.sleep(2)\n\n# Return CPU temperature as a character string\ndef getCPUtemperature():\n    res = os.popen('vcgencmd measure_temp').readline()\n    return(res.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\"))\n\n# Return RAM information (unit=kb) in a list\n# Index 0: total RAM\n# Index 1: used RAM\n# Index 2: free RAM\ndef getRAMinfo():\n    p = os.popen('free')\n    i = 0\n    while 1:\n        i = i + 1\n        line = p.readline()\n        if i==2:\n            return(line.split()[1:4])\n\n# Return % of CPU used by user as a character string\ndef getCPUuse():\n    return(str(os.popen(\"top -n1 | awk '/Cpu\\(s\\):/ {print $2}'\").readline().strip()))\n\n# Return information about disk space as a list (unit included)\n# Index 0: total disk space\n# Index 1: used disk space\n# Index 2: remaining disk space\n# Index 3: percentage of disk used\ndef getDiskSpace():\n    p = os.popen(\"df -h /\")\n    i = 0\n    while 1:\n        i = i +1\n        line = p.readline()\n        if i==2:\n            return(line.split()[1:5])\n \ndef main():\n    while True:\n        # CPU informatiom\n        CPU_temp = getCPUtemperature()\n        CPU_usage = getCPUuse()\n\n        # RAM information\n        # Output is in kb, here I convert it in Mb for readability\n        RAM_stats = getRAMinfo()\n        RAM_total = str(round(int(RAM_stats[0]) / 1000,1))\n        RAM_used = str(round(int(RAM_stats[1]) / 1000,1))\n        RAM_free = str(round(int(RAM_stats[2]) / 1000,1))\n\n        # Disk information\n        DISK_stats = getDiskSpace()\n        DISK_total = DISK_stats[0]\n        DISK_used = DISK_stats[1]\n        DISK_perc = DISK_stats[3]\n\n        temp=ser.write(str.encode(CPU_temp+' '+CPU_usage))\n\n        data=ser.write(str.encode(CPU_temp+':'+CPU_usage+':'+RAM_total+':'+RAM_used+':'+RAM_free+':'+DISK_total+':'+DISK_used+':'+DISK_perc))\n        ser.flush()\n        time.sleep(2)\n\n        print('')\n        print('CPU Temperature = '+CPU_temp)\n        print('CPU Use = '+CPU_usage)\n        print('')\n        print('RAM Total = '+str(RAM_total)+' MB')\n        print('RAM Used = '+str(RAM_used)+' MB')\n        print('RAM Free = '+str(RAM_free)+' MB')\n        print('')  \n        print('DISK Total Space = '+str(DISK_total)+'B')\n        print('DISK Used Space = '+str(DISK_used)+'B')\n        print('DISK Used Percentage = '+str(DISK_perc)) \n\n\nif __name__ == '__main__':\n    try:    \n        main()\n    except KeyboardInterrupt:    \n        if ser != None:    \n            ser.close()\n")),(0,i.yg)("h2",{id:"arduino-code"},"Arduino Code"),(0,i.yg)("h3",{id:"arduino-libraries-needed"},"Arduino libraries needed"),(0,i.yg)("ul",null,(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Install the LCD screen Library ",(0,i.yg)("inlineCode",{parentName:"p"},"Seeed_Arduino_LCD"),", please visit ",(0,i.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/Wio-Terminal-LCD-Overview/"},"Wio Terminal LCD")," for more information.")),(0,i.yg)("li",{parentName:"ul"},(0,i.yg)("p",{parentName:"li"},"Download the ",(0,i.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Wio-Terminal/res/Free_Fonts.h"},(0,i.yg)("inlineCode",{parentName:"a"},"Free_Fonts.h"))," header file so that can use abbreviations for the free fonts included in the LCD library. Please make sure to put this header file in the same location as the Arduino Sketch."))),(0,i.yg)("h3",{id:"complete-code"},"Complete Code"),(0,i.yg)("p",null,"Download the complete code ",(0,i.yg)("a",{parentName:"p",href:"https://files.seeedstudio.com/wiki/Wio-Terminal/res/readRasp.ino"},"here"),"."),(0,i.yg)("h2",{id:"instructions"},"Instructions"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Upload the Arduino Code to Wio Terminal. Once uploaded it should be in a starting screen.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Connect Wio Terminal to the Raspberry Pi via USB Type-C Cable.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Run the Python code on Raspberry Pi.")),(0,i.yg)("li",{parentName:"ol"},(0,i.yg)("p",{parentName:"li"},"Now, you should be able to see the Raspberry's Pi System info on Wio Terminal's LCD Screen."))),(0,i.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,i.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,i.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,i.yg)("div",{class:"button_tech_support_container"},(0,i.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,i.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}m.isMDXComponent=!0}}]);