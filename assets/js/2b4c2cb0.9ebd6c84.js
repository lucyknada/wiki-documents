"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[95295],{15680:(e,t,a)=>{a.d(t,{xA:()=>g,yg:()=>m});var r=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},g=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,p=e.parentName,g=l(e,["components","mdxType","originalType","parentName"]),y=s(a),d=n,m=y["".concat(p,".").concat(d)]||y[d]||u[d]||o;return a?r.createElement(m,i(i({ref:t},g),{},{components:a})):r.createElement(m,i({ref:t},g))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[y]="string"==typeof e?e:n,i[1]=l;for(var s=2;s<o;s++)i[s]=a[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},37273:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=a(58168),n=(a(96540),a(15680));const o={description:"OpenWrt Getting Started",title:"Getting Started with OpenWRT",keywords:["Sorftware OpenWrt"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/OpenWrt-Getting-Started",last_update:{date:"1/13/2023",author:"jianjing Huang"}},i=void 0,l={unversionedId:"Network/RaspberryPi_Devices/reRouter/Application/OpenWrt-Getting-Started",id:"Network/RaspberryPi_Devices/reRouter/Application/OpenWrt-Getting-Started",title:"Getting Started with OpenWRT",description:"OpenWrt Getting Started",source:"@site/docs/Network/RaspberryPi_Devices/reRouter/Application/OpenWrt-Getting-Started.md",sourceDirName:"Network/RaspberryPi_Devices/reRouter/Application",slug:"/OpenWrt-Getting-Started",permalink:"/OpenWrt-Getting-Started",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Network/RaspberryPi_Devices/reRouter/Application/OpenWrt-Getting-Started.md",tags:[],version:"current",lastUpdatedBy:"jianjing Huang",lastUpdatedAt:1673568e3,formattedLastUpdatedAt:"Jan 13, 2023",frontMatter:{description:"OpenWrt Getting Started",title:"Getting Started with OpenWRT",keywords:["Sorftware OpenWrt"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/OpenWrt-Getting-Started",last_update:{date:"1/13/2023",author:"jianjing Huang"}},sidebar:"ProductSidebar",previous:{title:"FAQs for OpenWrt",permalink:"/FAQs_For_openWrt"},next:{title:"Plex Media Server",permalink:"/OpenWrt-Plex-Media-Server-on-Docker"}},p={},s=[{value:"Hardware Required",id:"hardware-required",level:2},{value:"Initial Set Up",id:"initial-set-up",level:2},{value:"Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4",id:"dual-gigabit-ethernet-carrier-board-for-raspberry-pi-cm4",level:3},{value:"Flash OpenWrt Image",id:"flash-openwrt-image",level:4},{value:"For Windows",id:"for-windows",level:5},{value:"For Mac/Linux",id:"for-maclinux",level:5},{value:"Dual Gigabit Ethernet Ports Connection",id:"dual-gigabit-ethernet-ports-connection",level:4},{value:"ODYSSEY - X86J4125",id:"odyssey---x86j4125",level:3},{value:"Flash OpenWrt Image",id:"flash-openwrt-image-1",level:4},{value:"Dual Gigabit Ethernet Ports Connection",id:"dual-gigabit-ethernet-ports-connection-1",level:4},{value:"Install OpenWrt",id:"install-openwrt",level:4},{value:"Run OpenWrt",id:"run-openwrt",level:2},{value:"Run R23.5 OpenWrt",id:"run-r235-openwrt",level:2},{value:"Network Speed Test",id:"network-speed-test",level:2},{value:"Dual Gigabit Board as a Server and ODYSSEY as a Client",id:"dual-gigabit-board-as-a-server-and-odyssey-as-a-client",level:3},{value:"ODYSSEY as a Server and Dual Gigabit Board as a Client",id:"odyssey-as-a-server-and-dual-gigabit-board-as-a-client",level:3},{value:"FAQ",id:"faq",level:2},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],g={toc:s},y="wrapper";function u(e){let{components:t,...a}=e;return(0,n.yg)(y,(0,r.A)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/openwrt-wiki-thumb.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("p",null,"OpenWrt is an open-source Linux operating system which runs on embedded devices/ routers. It offers more features, performance and security than a traditional router. It has a filesystem that\u2019s fully writable and includes a package management system. You can make use of these packages to suit your applications in various ways."),(0,n.yg)("p",null,"By using OpenWrt you can have various features such as:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"Increase overall network performance when multiple devices are connected"),(0,n.yg)("li",{parentName:"ul"},"Share files between devices via an external storage drive connected directly to the router"),(0,n.yg)("li",{parentName:"ul"},"Increase network security"),(0,n.yg)("li",{parentName:"ul"},"Run a BitTorrent client from the router"),(0,n.yg)("li",{parentName:"ul"},"Connect a printer directly to the router to create a networked printer"),(0,n.yg)("li",{parentName:"ul"},"Limit bandwidth usage of a particular device in the network"),(0,n.yg)("li",{parentName:"ul"},"Active queue management"),(0,n.yg)("li",{parentName:"ul"},"Real time network monitoring"),(0,n.yg)("li",{parentName:"ul"},"Create Dynamic DNS"),(0,n.yg)("li",{parentName:"ul"},"Set Up a VPN client or server")),(0,n.yg)("p",null,"Now let's dive into using OpenWrt on Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4 and ODYSSEY - X86J4125."),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"This guide works for ODYSSEY - X86J4105 as well.")),(0,n.yg)("h2",{id:"hardware-required"},"Hardware Required"),(0,n.yg)("p",null,"You need to prepare the following hardware before getting started with OpenWRT on Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4 and ODYSSEY - X86J4125"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"1 x ",(0,n.yg)("a",{parentName:"li",href:"https://www.seeedstudio.com/Rapberry-Pi-CM4-Dual-GbE-Carrier-Board-p-4874.html"},"Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4")),(0,n.yg)("li",{parentName:"ul"},"1 x ",(0,n.yg)("a",{parentName:"li",href:"https://www.seeedstudio.com/Wall-Adapter-Power-Supply-5VDC-3A-Type-C-p-4103.html"},"Power adapter (5V/3A) with USB Type-C cable")),(0,n.yg)("li",{parentName:"ul"},"1 x ",(0,n.yg)("a",{parentName:"li",href:"https://www.seeedstudio.com/ODYSSEY-X86J4125800-p-4915.html"},"ODYSSEY - X86J4125 with the included power adapter")),(0,n.yg)("li",{parentName:"ul"},"2 x Ethernet cables")),(0,n.yg)("h2",{id:"initial-set-up"},"Initial Set Up"),(0,n.yg)("h3",{id:"dual-gigabit-ethernet-carrier-board-for-raspberry-pi-cm4"},"Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4"),(0,n.yg)("p",null,"First we will explain how to install and set up OpenWrt on Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4"),(0,n.yg)("h4",{id:"flash-openwrt-image"},"Flash OpenWrt Image"),(0,n.yg)("p",null,"Now we need to flash OpenWrt image on to the eMMC storage of the board so that it can run on the Raspberry Pi Compute Module 4. Once the necessary drivers are installed, you just have to connect the USB Type-C port of the CM4 in to your PC, and it will show as an external drive. Follow the steps below according to your operating system."),(0,n.yg)("h5",{id:"for-windows"},"For Windows"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 1.")," Download the ",(0,n.yg)("strong",{parentName:"li"},"latest OpenWrt Image")," compiled by Seeed for this board from ",(0,n.yg)("a",{parentName:"li",href:"https://1drv.ms/u/s!AqG2uRmVUhlSh0NHMLMmQKLyASvi?e=mup3cd"},"here"))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Choose ",(0,n.yg)("strong",{parentName:"p"},"openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img.gz")," file")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 2.")," Download and run ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/raspberrypi/usbboot/raw/master/win32/rpiboot_setup.exe"},"this installer")," to install the necessary drivers and the boot tool")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 3.")," Search for ",(0,n.yg)("strong",{parentName:"p"},"rpiboot")," tool that we installed and open it")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 4.")," Connect a jumper wire between ",(0,n.yg)("strong",{parentName:"p"},"Boot")," and ",(0,n.yg)("strong",{parentName:"p"},"GND")," pins as follows to enable the BOOT mode"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/connection.png",alt:"pir",width:"600",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 5.")," Connect Carrier Board to the PC via USB Type-C cable")),(0,n.yg)("p",null,"Windows will now find the hardware and install the necessary drivers"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 6.")," Open ",(0,n.yg)("strong",{parentName:"p"},"file explorer")," and you will see the eMMC of the Computer Module 4 shown as a ",(0,n.yg)("strong",{parentName:"p"},"USB mass storage device"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 7.")," Download ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," software by visiting ",(0,n.yg)("a",{parentName:"p",href:"https://www.balena.io/etcher"},"this link")," according to your operating system")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 8.")," Run ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," as ",(0,n.yg)("strong",{parentName:"p"},"administrator")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/balena-home.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 9.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Flash from file")," and point to the OpenWrt image file that you downloaded before")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 10.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Select target")," and select the connected eMMC drive")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 11.")," Finally, click ",(0,n.yg)("strong",{parentName:"p"},"Flash!")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"http://files.seeedstudio.com/wiki/OpenWrt/balena-finish.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("p",null,"Please wait a few minutes until the flashing process is complete."),(0,n.yg)("h5",{id:"for-maclinux"},"For Mac/Linux"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 1.")," Download the ",(0,n.yg)("strong",{parentName:"li"},"latest OpenWrt Image")," compiled by Seeed for this board from ",(0,n.yg)("a",{parentName:"li",href:"https://1drv.ms/u/s!AqG2uRmVUhlSh0NHMLMmQKLyASvi?e=mup3cd"},"here"))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Choose ",(0,n.yg)("strong",{parentName:"p"},"openwrt-bcm27xx-bcm2711-rpi-4-ext4-factory.img.gz")," file")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 2.")," Open a ",(0,n.yg)("strong",{parentName:"li"},"Terminal")," window and type the following to update the ",(0,n.yg)("strong",{parentName:"li"},"packages list"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt update\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 3.")," Install ",(0,n.yg)("strong",{parentName:"li"},"Git")," by the following command")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt install git\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 4.")," Git might produce an error if the date is not set properly. Type the following to correct this")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"sudo date MMDDhhmm\n")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Where ",(0,n.yg)("strong",{parentName:"p"},"MM")," is the month, ",(0,n.yg)("strong",{parentName:"p"},"DD")," is the date, and ",(0,n.yg)("strong",{parentName:"p"},"hh")," and ",(0,n.yg)("strong",{parentName:"p"},"mm")," are hours and minutes respectively.")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 5.")," Clone the ",(0,n.yg)("strong",{parentName:"li"},"usbboot")," tool repository")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"git clone --depth=1 https://github.com/raspberrypi/usbboot\ncd usbboot\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 6.")," Enter the following to install ",(0,n.yg)("strong",{parentName:"li"},"libusb"))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt install libusb-1.0-0-dev\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 7.")," Build and install the usbboot tool")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"make\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 8.")," Run the usbboot tool and it will wait for a connection")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"sudo ./rpiboot\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 9.")," Connect a jumper wire between ",(0,n.yg)("strong",{parentName:"li"},"Boot")," and ",(0,n.yg)("strong",{parentName:"li"},"GND")," pins as follows to enable the programming mode")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/connection.png",alt:"pir",width:"600",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 10.")," Connect Carrier Board to the PC via USB Type-C cable")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 11.")," Download ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," software by visiting ",(0,n.yg)("a",{parentName:"p",href:"https://www.balena.io/etcher"},"this link")," according to your operating system")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 12.")," Run ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," as ",(0,n.yg)("strong",{parentName:"p"},"administrator")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/balena-home.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 13.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Flash from file")," and point to the OpenWrt image file that you downloaded before")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 14.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Select target")," and select the connected eMMC drive")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 15.")," Finally, click ",(0,n.yg)("strong",{parentName:"p"},"Flash!")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"http://files.seeedstudio.com/wiki/OpenWrt/balena-finish.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("p",null,"Please wait a few minutes until the flashing process is complete."),(0,n.yg)("h4",{id:"dual-gigabit-ethernet-ports-connection"},"Dual Gigabit Ethernet Ports Connection"),(0,n.yg)("p",null,"Once OpenWrt is finished flashing onto Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4, you can connect Ethernet cables to the board as follows:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/cm4-ports-2.png",alt:"pir",width:"600",height:"auto"})),(0,n.yg)("p",null,"The OpenWrt image has already included the necessary network configurations for the dual Gigabit ports to work out-of-the-box, so that you don't have to configure them by yourself. However, here is an explanation of how the 2 ports are configured."),(0,n.yg)("p",null,"One port is configured as a ",(0,n.yg)("strong",{parentName:"p"},"LAN interface")," and the other as a ",(0,n.yg)("strong",{parentName:"p"},"WAN interface"),". The WAN interface is the one which can be connected to the internet and it is configured as a ",(0,n.yg)("strong",{parentName:"p"},"DHCP client"),". On the other hand, the LAN interface is the one which can be connected to the client devices and it is configured as a ",(0,n.yg)("strong",{parentName:"p"},"DHCP server"),"."),(0,n.yg)("p",null,"Here the LAN interface is configured so that it has a static IP address of ",(0,n.yg)("strong",{parentName:"p"},"192.168.2.1"),". However, if you connect this OpenWrt router to another router with default gateway IP of 192.168.2.1, you might want to change the IP address on the LAN interface or otherwise OpenWrt will have IP conflict. Please follow the ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/OpenWrt-Getting-Started/#q1-what-if-i-connect-the-openwrt-router-to-my-exisiting-router-which-has-a-default-gateway-ip-of-19216821"},"FAQ")," below to learn more!"),(0,n.yg)("h3",{id:"odyssey---x86j4125"},"ODYSSEY - X86J4125"),(0,n.yg)("p",null,"Next we will explain how to install and set up OpenWrt on ODYSSEY - X86J4125"),(0,n.yg)("h4",{id:"flash-openwrt-image-1"},"Flash OpenWrt Image"),(0,n.yg)("p",null,"Now we need to install OpenWrt on to the eMMC/ HDD/ SSD of the ODYSSEY - X86J4125 so that it can run on the board. To do this, we first need to create a bootable USB with the OpenWrt image. Follow the steps below"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 1.")," Download the ",(0,n.yg)("strong",{parentName:"li"},"latest OpenWrt Image")," compiled by Seeed for this board from ",(0,n.yg)("a",{parentName:"li",href:"https://1drv.ms/u/s!AqG2uRmVUhlSh0NHMLMmQKLyASvi?e=mup3cd"},"here"))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Choose ",(0,n.yg)("strong",{parentName:"p"},"openwrt-x86-64-generic-ext4-combined-efi.img.gz")," file")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 2.")," Insert a USB drive to the PC")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 3.")," Download ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," software by visiting ",(0,n.yg)("a",{parentName:"p",href:"https://www.balena.io/etcher"},"this link")," according to your operating system")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 4.")," Run ",(0,n.yg)("strong",{parentName:"p"},"balenaEtcher")," as ",(0,n.yg)("strong",{parentName:"p"},"administrator")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/balena-home.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 5.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Flash from file")," and point to the OpenWrt image file that you downloaded before")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 6.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Select target")," and select the connected USB drive")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 7.")," Finally, click ",(0,n.yg)("strong",{parentName:"p"},"Flash!")))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"http://files.seeedstudio.com/wiki/OpenWrt/balena-finish.jpg",alt:"pir",width:"650",height:"auto"})),(0,n.yg)("p",null,"Please wait a few minutes until the flashing process is complete."),(0,n.yg)("h4",{id:"dual-gigabit-ethernet-ports-connection-1"},"Dual Gigabit Ethernet Ports Connection"),(0,n.yg)("p",null,"Once OpenWrt is finished flashing onto the USB drive, you can connect Ethernet cables to the board as follows:"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/odyssey-ports-2.png",alt:"pir",width:"700",height:"auto"})),(0,n.yg)("p",null,"The OpenWrt image has already included the necessary network configurations for the dual Gigabit ports to work out-of-the-box, so that you don't have to configure them by yourself. However, here is an explanation of how the 2 ports are configured."),(0,n.yg)("p",null,"One port is configured as a ",(0,n.yg)("strong",{parentName:"p"},"LAN interface")," and the other as a ",(0,n.yg)("strong",{parentName:"p"},"WAN interface"),". The WAN interface is the one which can be connected to the internet and it is configured as a ",(0,n.yg)("strong",{parentName:"p"},"DHCP client"),". On the other hand, the LAN interface is the one which can be connected to the client devices and it is configured as a ",(0,n.yg)("strong",{parentName:"p"},"DHCP server"),"."),(0,n.yg)("p",null,"Here the LAN interface is configured so that it has a static IP address of ",(0,n.yg)("strong",{parentName:"p"},"192.168.2.1"),". However, if you connect this OpenWrt router to another router with default gateway IP of 192.168.2.1, you might want to change the IP address on the LAN interface or otherwise OpenWrt will have IP conflict. Please follow the ",(0,n.yg)("strong",{parentName:"p"},"FAQ")," below to learn more!"),(0,n.yg)("h4",{id:"install-openwrt"},"Install OpenWrt"),(0,n.yg)("p",null,"Now that we have created a bootable USB drive previously, let's move on to installing OpenWrt to ODYSSEY - X86J4125"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 1.")," Insert the bootable USB drive to the ODYSSEY board and connect the board to a display and a keyboard")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 2.")," Turn on the board and keep pressing ",(0,n.yg)("strong",{parentName:"p"},"F7")," to enter the boot manager screen"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/ODYSSEY-X86J4105864/img/OpenWRT/biosSetup.jpg",alt:"pir",width:"500",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 3.")," Select the bootable USB and press ENTER")),(0,n.yg)("p",null,"Now OpenWrt will start to run live from the USB drive."),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 4.")," Turn on the board, open a web browser and type ",(0,n.yg)("strong",{parentName:"p"},"192.168.2.1")," in the search bar")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 5.")," Once OpenWrt portal opens, navigate to ",(0,n.yg)("strong",{parentName:"p"},"System > FileTransfer"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 6.")," Click ",(0,n.yg)("strong",{parentName:"p"},"Choose File")," under ",(0,n.yg)("strong",{parentName:"p"},"Upload")," and select the OpenWrt image that we downloaded before"))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Make sure the ",(0,n.yg)("strong",{parentName:"p"},".gz")," file is extracted to the ",(0,n.yg)("strong",{parentName:"p"},".img")," file before")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 7.")," Click ",(0,n.yg)("strong",{parentName:"li"},"Upload"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/OpenWrt-image-upload.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("p",null,"Now the image is saved under ",(0,n.yg)("strong",{parentName:"p"},"/tmp/upload/")," directory"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 8.")," Navigate to ",(0,n.yg)("strong",{parentName:"p"},"System > TTYD Terminal")," and login with ",(0,n.yg)("strong",{parentName:"p"},"root")," as the username")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 9.")," Type ",(0,n.yg)("strong",{parentName:"p"},"lsblk")," to list the connected storage devices"))),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/lsblk.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 10.")," Type the following to flash the OpenWrt image to the storage device connected (eMMC/ HDD/ SSD)")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"dd if=/tmp/upload/openwrt-x86-64-generic-ext4-combined-efi.img of=/dev/sda \n")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},(0,n.yg)("strong",{parentName:"p"},"/dev/sda")," correponds to the storage device connected")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 11.")," Once it's finished flashing to the storage device, reboot the board, remove the USB drive and it will start to boot OpenWrt from the connected storage device.")),(0,n.yg)("h2",{id:"run-openwrt"},"Run OpenWrt"),(0,n.yg)("p",null,"Now that we have finished setting up the OpenWrt software and the dual Gigabit Ethernet ports, we will move on to running OpenWrt on Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4 and ODYSSEY - X86J4125. This section will not be divided according to the 2 boards because both will have the same OpenWrt functionality along with the same web-interface."),(0,n.yg)("p",null,"Once the ethernet cables are connected as before and the OpenWrt image is flashed, proceed to the steps below"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 1.")," Power on the board")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 2.")," Open a web browser and type ",(0,n.yg)("strong",{parentName:"p"},"192.168.2.1")))),(0,n.yg)("p",null,"You will see the OpenWrt Luci web-interface here. The OpenWrt image compiled by Seeed is included with many packages out-of-the-box. So you can use these package to realize many applications!"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/OpenWrt-UI.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("h2",{id:"run-r235-openwrt"},"Run R23.5 OpenWrt"),(0,n.yg)("p",null,"We updated the latest version of OpenWrt for Rerouter, the R23.5 version. If you want to use the latest version of OpenWrt, you can choose the image below."),(0,n.yg)("p",null,(0,n.yg)("a",{parentName:"p",href:"https://firmware-selector.openwrt.org/?version=23.05.2&target=bcm27xx%2Fbcm2711&id=rpi-4"},"R23.5 OpenWrt Images")),(0,n.yg)("p",null,"Once the ethernet cables are connected as before and the OpenWrt image is flashed, proceed to the steps below"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 1.")," Power on the board")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"Step 2.")," Open a web browser and type ",(0,n.yg)("strong",{parentName:"p"},"192.168.1.1")))),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-text"},"account: root\npassword: password\n")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/R24.7OP-UI.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("h2",{id:"network-speed-test"},"Network Speed Test"),(0,n.yg)("p",null,"Finally we will move on to testing the network speeds on the Dual Gigabit Ethernet Carrier Board for Raspberry Pi CM4 and ODYSSEY - X86J4125 with OpenWrt installed."),(0,n.yg)("h3",{id:"dual-gigabit-board-as-a-server-and-odyssey-as-a-client"},"Dual Gigabit Board as a Server and ODYSSEY as a Client"),(0,n.yg)("p",null,"We will first use Dual Gigabit Ethernet Carrier Board as a server and ODYSSEY - X86J4125 as a client for the network test"),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Make sure to change the IP address of the LAN interface on the ODYSSEY board to ",(0,n.yg)("strong",{parentName:"p"},"192.168.3.1")," by ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/OpenWrt-Getting-Started/#q1-what-if-i-connect-the-openwrt-router-to-my-exisiting-router-which-has-a-default-gateway-ip-of-19216821"},"following this"))),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 1.")," Connect the boards as follows")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/speed-cm4-server.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 2.")," Open a web browser and log in to both the boards and enter the terminal as follows:")),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Dual Gigabit Ethernet Carrier Board")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Type ",(0,n.yg)("strong",{parentName:"p"},"192.168.2.1")," on the web browser search box")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Navigate to ",(0,n.yg)("strong",{parentName:"p"},"System > TTYD Terminal")," and login with ",(0,n.yg)("strong",{parentName:"p"},"root")," as the username"))),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"ODYSSEY - X86J4125/ X86J4105")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Type ",(0,n.yg)("strong",{parentName:"p"},"192.168.3.1")," on the web browser search box")),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},"Navigate to ",(0,n.yg)("strong",{parentName:"p"},"System > TTYD Terminal")," and login with ",(0,n.yg)("strong",{parentName:"p"},"root")," as the username"))),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Make sure both devices are not on the same IP range on the LAN interface")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 3.")," Install ",(0,n.yg)("strong",{parentName:"li"},"iperf3")," network performance test tool on both devices")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"opkg update\nopkg install iperf3\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 4.")," On the ",(0,n.yg)("strong",{parentName:"li"},"TTYD Terminal")," window of Dual Gigabit Ethernet Carrier Board, type the following to start iperf3 as a server")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"iperf3 -s\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 5.")," On the ",(0,n.yg)("strong",{parentName:"li"},"TTYD Terminal")," window of ODYSSEY - X86J4125, type the following to start iperf3 as a client and connect to the server created before")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"iperf3 -c 192.168.2.1\n")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Here the IP address of the Dual Gigabit Board server is written")),(0,n.yg)("p",null,"Now you will see the network speed test results as follows"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/TTYD-CM4-server.png\n",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Here you can see the speed is close to 1Gbps")),(0,n.yg)("h3",{id:"odyssey-as-a-server-and-dual-gigabit-board-as-a-client"},"ODYSSEY as a Server and Dual Gigabit Board as a Client"),(0,n.yg)("p",null,"We will now use ODYSSEY - X86J4125 as a server and Dual Gigabit Ethernet Carrier Board as a client for the network test"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 1.")," Connect the boards as follows")),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/speed-odyssey-server.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 2.")," On the ",(0,n.yg)("strong",{parentName:"li"},"TTYD Terminal")," window of ODYSSEY - X86J4125, type the following to start iperf3 as a server")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"iperf3 -s\n")),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Step 3.")," On the ",(0,n.yg)("strong",{parentName:"li"},"TTYD Terminal")," window of Dual Gigabit Ethernet Carrier Board, type the following to start iperf3 as a client and connect to the server created before")),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-sh"},"iperf3 -c 192.168.3.1\n")),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Here the IP address of the ODYSSEY-X86 server is written")),(0,n.yg)("p",null,"Now you will see the network speed test results as follows"),(0,n.yg)("p",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/OpenWrt/TTYD-X86-server.png",alt:"pir",width:"1000",height:"auto"})),(0,n.yg)("admonition",{type:"note"},(0,n.yg)("p",{parentName:"admonition"},"Here you can see the speed is close to 1Gbps")),(0,n.yg)("h2",{id:"faq"},"FAQ"),(0,n.yg)("p",null,"For details, please click ",(0,n.yg)("a",{parentName:"p",href:"/FAQs_For_openWrt"},(0,n.yg)("strong",{parentName:"a"},"here"))),(0,n.yg)("h2",{id:"resources"},"Resources"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[Web Page]")," ",(0,n.yg)("a",{parentName:"p",href:"https://openwrt.org"},"OpenWrt Offficial Documentation"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[GitHub]")," ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/Seeed-Studio/seeed-linux-openwrt"},"Seeed OpenWrt"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[OneDrive]")," ",(0,n.yg)("a",{parentName:"p",href:"https://1drv.ms/u/s!AqG2uRmVUhlSh0NHMLMmQKLyASvi?e=mup3cd"},"Seeed OpenWrt Images"))),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("p",{parentName:"li"},(0,n.yg)("strong",{parentName:"p"},"[Download]")," ",(0,n.yg)("a",{parentName:"p",href:"https://firmware-selector.openwrt.org/?version=23.05.2&target=bcm27xx%2Fbcm2711&id=rpi-4"},"R23.5 OpenWrt Images")))),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}u.isMDXComponent=!0}}]);